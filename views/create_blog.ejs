<section class="container" id="hero">
  
  <div class="form blog">
    <div class="form-box">
        <h2 class="form_title">Create blog</h2>
        
        <%- include('partials/messages') %>

        <form action="" method="post">

            <div class="form_group">
                <label for="Email">Email Address</label>
                <input type="email" class="input_box" name="email" id="Email" placeholder="Enter Email Address">
            </div>
            
            <div class="form_group">
                <button type="submit">Submit</button>
            </div>
        </form>
    </div>
  </div>


  <h2 class="lead mb-3">Welcome <%= user.name %></h2>
  <p class="lead mb-3">Email - <%= user.email %></p>

  <!-- Include stylesheet -->
  <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet" />

  <!-- Create the form and editor container -->
  <form id="blogForm" action="/create_blog" method="post">
    <!-- Add other form fields as needed -->
    <label for="a">author:</label>
    <input type="text" id="a" name="author" value="<%= user.name %>" required />

    <label for="title">Title:</label>
    <input type="text" id="title" name="title" required />

    <!-- Create the Quill editor container -->
    <div id="editor"></div>

    <!-- Hidden input to store Quill content -->
    <input type="hidden" name="content" id="blogContent" />

    <!-- Submit button -->
    <button type="submit">Save Blog</button>
  </form>

  <!-- Include the Quill library -->
  <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>

  <!-- Initialize Quill editor -->
  <script>
    //   var quill = new Quill('#editor', {
    //     theme: 'snow'
    //   });
    var quill = new Quill("#editor", {
      modules: {
        toolbar: [
          [{ header: [1, 2, 3, 4, 5, 6, false] }],
          ["bold", "italic", "underline", "strike"],
          ["blockquote", "code-block"],
          [{ list: "ordered" }, { list: "bullet" }],
          [{ script: "sub" }, { script: "super" }],
          [{ indent: "-1" }, { indent: "+1" }],
          [{ direction: "rtl" }],
          [{ color: [] }, { background: [] }],
          [{ font: [] }],
          [{ align: [] }],
          ["clean"],
          ["link"],
        ],
      },
      placeholder: "Compose an epic...",
      theme: "snow",
    });

    // Handle form submission to update the hidden input with Quill content
    document
      .getElementById("blogForm")
      .addEventListener("submit", function (event) {
        // Set the value of the hidden input to the Quill content
        document.querySelector("#blogContent").value = quill.root.innerHTML;
      });
  </script>
</section>
